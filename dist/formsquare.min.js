!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.formsquare=e()}}(function(){return function e(t,r,n){function i(o,f){if(!r[o]){if(!t[o]){var a="function"==typeof require&&require;if(!f&&a)return a(o,!0);if(u)return u(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports=e("./lib/formsquare"),t.exports.NAME="formsquare",t.exports.VERSION="0.6.0"},{"./lib/formsquare":3}],2:[function(e,t,r){"use strict";function n(e){if(!e)return Promise.resolve(null);var t=new FileReader,r=new Promise(function(e,r){t.addEventListener("load",e,!1),t.addEventListener("error",r,!1),t.addEventListener("abort",r,!1)});return t.readAsDataURL(e),r.then(function(t){var r=t.target.result.split(";"),n=i(r,2),u=n[0],o=n[1];return{body:o.slice(7),name:e.name,type:u.slice(5)}})}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,u=void 0;try{for(var o,f=e[Symbol.iterator]();!(n=(o=f.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(a){i=!0,u=a}finally{try{!n&&f["return"]&&f["return"]()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.readFile=n},{}],3:[function(e,t,r){"use strict";function n(e){function t(e,t){var r=t.name,n=t.type,u=t.value,p=f(r);if("radio"===n&&!t.checked)return e;if("checkbox"===n&&null===t.getAttribute("value"))u=t.checked;else if("checkbox"!==n||t.checked)u=i(t);else{if(d(p)||(0,y.any)(function(e){return e.name===r&&e!==t},s))return c(e,p);u=null}if(0===p.length)return null===e?u:(Array.isArray(e)||(e=[e]),e.push(u),e);e=o(e,p,u);var v=a(p,e),h=p.slice(-1)[0],m="number"!=typeof h&&(0,y.any)(function(e){return(0,y.startsWith)(r,e.name)&&e!==t&&e.name.slice(r.length).match(/\[[^\]]\]/)},s);return l(v,h,u,m),e}var r=arguments.length<=1||void 0===arguments[1]?(0,y.constant)(!0):arguments[1];if("function"==typeof e)return function(t){return n(t,e)};var s=(0,y.filter)(r,u(e));return(0,y.reduce)(t,null,s)}function i(e){if("select-multiple"===e.type)return(0,y.selectedValues)(e);if("number"===e.type||"range"===e.type)return+e.value;if((0,y.contains)(e.getAttribute("type"),["date","datetime-local","month"])){var t=new Date(e.value);return"Invalid Date"===t.toString()?e.value:t}return"week"===e.getAttribute("type")?p(e.value)||e.getAttribute("value"):"file"===e.type?e.multiple?0===e.files.length?Promise.resolve([]):Promise.all((0,y.map)(h.readFile,e.files)):(0,h.readFile)(e.files[0]):e.value}function u(e){if(e instanceof NodeList||Array.isArray(e))return(0,y.flatMap)(u,e);var t=e.elements;if(!e.id||"function"==typeof window.HTMLFormControlsCollection&&t instanceof window.HTMLFormControlsCollection)return t;var r=document.querySelectorAll('[form="'+e.id+'"]'),n=(0,y.filter)(function(t){return(0,y.contains)(t.getAttribute("form"),["",null,e.id])},t);return(0,y.extendUniq)(n,r)}function o(e,t){return null===e?"number"==typeof t[0]?[]:Object.create(null):e}function f(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(0===e.length)return t;var r=e.indexOf("["),n=e.indexOf("]");if(0>=r&&-1===n)return t.push(e),t;for(;r>n&&-1!==n;)n=e.slice(n).indexOf("]");if(-1===n)return t.push(e),t;if(r>0)return t.push(e.slice(0,r)),f(e.slice(r),t);var i=e.slice(r+1,n),u=""===i?-1:i.match(m)?+i:i;return t.push(u),f(e.slice(n+1),t)}function a(e,t){if(e.length<=1)return t;var r=e[0],n=e.slice(1),i=-1===r?t.length:r,u=t[i];if("undefined"==typeof u){var o="number"==typeof n[0]?[]:Object.create(null);if(Array.isArray(t)&&-1===i)return t.push(o),a(n,o);s(t,i),t[i]=o}return a(n,t[i])}function l(e,t,r,n){t=-1===t?e.length:t,"undefined"!=typeof e[t]&&null!==e[t]?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n?{"":r}:r)):(s(e,t),e[t]=n?{"":r}:r)}function c(e,t){if(null===e)return[];var r=a(t,e),n=t.slice(-1)[0];return t.length>0&&"undefined"==typeof r[n]&&!d(t)&&(r[n]=[]),e}function s(e,t){if(Array.isArray(e)&&"number"==typeof t&&e.length<t)for(var r=e.length;t>r;r+=1)"undefined"==typeof e[r]&&(e[r]=null)}function d(e){return"number"==typeof e.slice(-1)[0]}function p(e){if(!e.match(/^\s*\d+\s*-W\s*\d+\s*$/))return e;var t=e.split("-W"),r=v(t,2),n=r[0],i=r[1];if(n=parseInt(n,10),i=parseInt(i,10),0>=i||i>53)return e;var u=new Date(Date.UTC(n,0,1+7*(i-1))),o=u.getUTCDay(),f=u;return 4>=o?f.setUTCDate(u.getUTCDate()-u.getUTCDay()+1):f.setUTCDate(u.getUTCDate()+8-u.getUTCDay()),"Invalid Date"===f.toString()?e:f}Object.defineProperty(r,"__esModule",{value:!0});var v=function(){function e(e,t){var r=[],n=!0,i=!1,u=void 0;try{for(var o,f=e[Symbol.iterator]();!(n=(o=f.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(a){i=!0,u=a}finally{try{!n&&f["return"]&&f["return"]()}finally{if(i)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.formsquare=n;var y=e("./utils"),h=e("./files"),m=/^\s*\d+\s*$/;r["default"]=n},{"./files":2,"./utils":4}],4:[function(e,t,r){"use strict";function n(e,t){for(var r=t.length,n=0;r>n;n+=1)if(e(t[n]))return!0;return!1}function i(e){return function(){return e}}function u(e,t){for(var r=t.length,n=0;r>n;n+=1)if(t[n]===e)return!0;return!1}function o(e,t){for(var r=t.length,n=0;r>n;n+=1)u(t[n],e)||e.push(t[n]);return e}function f(e,t){for(var r=[],n=t.length,i=0;n>i;i+=1)e(t[i])&&r.push(t[i]);return r}function a(e,t){return c(function(t,r){for(var n=e(r),i=n.length,u=0;i>u;u+=1)t.push(n[u]);return t},[],t)}function l(e,t){for(var r=[],n=t.length,i=0;n>i;i+=1)r.push(e(t[i]));return r}function c(e,t,r){for(var n=r.length,i=0;n>i;i+=1)t=e(t,r[i]);return t}function s(e){var t=e.selectedOptions||f(function(e){return e.selected},e.options);return l(function(e){return e.value},t)}function d(e,t){return t.slice(0,e.length)===e}Object.defineProperty(r,"__esModule",{value:!0}),r.any=n,r.constant=i,r.contains=u,r.extendUniq=o,r.filter=f,r.flatMap=a,r.map=l,r.reduce=c,r.selectedValues=s,r.startsWith=d},{}]},{},[1])(1)});