!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.formsquare=e()}}(function(){return function e(t,n,r){function u(o,f){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!f&&l)return l(o,!0);if(i)return i(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return u(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(e,t,n){t.exports=e("./lib/formsquare"),t.exports.NAME="formsquare",t.exports.VERSION="0.4.0"},{"./lib/formsquare":2}],2:[function(e,t,n){"use strict";function r(e){function t(e,t){var n=t.name,r=t.type,i=t.value,p=f(n);if("radio"===r&&!t.checked)return e;if("checkbox"===r&&null===t.getAttribute("value"))i=t.checked;else if("checkbox"!==r||t.checked)i=u(t);else{if(d(p)||(0,v.any)(function(e){return e.name===n&&e!==t},s))return c(e,p);i=null}if(0===p.length)return null===e?i:(Array.isArray(e)||(e=[e]),e.push(i),e);e=o(e,p,i);var y=l(p,e),h=p.slice(-1)[0],g="number"!=typeof h&&(0,v.any)(function(e){return(0,v.startsWith)(n,e.name)&&e!==t&&e.name.slice(n.length).match(/\[[^\]]\]/)},s);return a(y,h,i,g),e}var n=arguments.length<=1||void 0===arguments[1]?(0,v.constant)(!0):arguments[1];if("function"==typeof e)return function(t){return r(t,e)};var s=(0,v.filter)(n,i(e));return(0,v.reduce)(t,null,s)}function u(e){if("select-multiple"===e.type)return(0,v.selectedValues)(e);if("number"===e.type||"range"===e.type)return+e.value;if((0,v.contains)(e.getAttribute("type"),["date","datetime-local","month"])){var t=new Date(e.value);return"Invalid Date"===t.toString()?e.value:t}if("week"===e.getAttribute("type")){if(!e.value.match(/^\s*\d+\s*-W\s*\d+\s*$/))return e.value;var n=e.value.split("-W"),r=p(n,2),u=r[0],i=r[1];if(0>=i||i>53)return e.value;u=parseInt(u,10),i=parseInt(i,10);var o=new Date(u,0,1+7*(i-1)),f=o.getDay(),l=o;return 4>=f?l.setDate(o.getDate()-o.getDay()+1):l.setDate(o.getDate()+8-o.getDay()),"Invalid Date"===l.toString()?e.value:l}return e.value}function i(e){var t=e.elements;if(!e.id||"function"==typeof window.HTMLFormControlsCollection&&t instanceof window.HTMLFormControlsCollection)return t;var n=document.querySelectorAll('[form="'+e.id+'"]'),r=(0,v.filter)(function(t){return(0,v.contains)(t.getAttribute("form"),["",null,e.id])},t);return(0,v.extendUniq)(r,n)}function o(e,t){return null===e?"number"==typeof t[0]?[]:Object.create(null):e}function f(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(0===e.length)return t;var n=e.indexOf("["),r=e.indexOf("]");if(0>=n&&-1===r)return t.push(e),t;for(;n>r&&-1!==r;)r=e.slice(r).indexOf("]");if(-1===r)return t.push(e),t;if(n>0)return t.push(e.slice(0,n)),f(e.slice(n),t);var u=e.slice(n+1,r),i=""===u?-1:u.match(y)?+u:u;return t.push(i),f(e.slice(r+1),t)}function l(e,t){if(e.length<=1)return t;var n=e[0],r=e.slice(1),u=-1===n?t.length:n,i=t[u];if("undefined"==typeof i){var o="number"==typeof r[0]?[]:Object.create(null);if(Array.isArray(t)&&-1===u)return t.push(o),l(r,o);s(t,u),t[u]=o}return l(r,t[u])}function a(e,t,n,r){t=-1===t?e.length:t,"undefined"!=typeof e[t]&&null!==e[t]?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(r?{"":n}:n)):(s(e,t),e[t]=r?{"":n}:n)}function c(e,t){if(null===e)return[];var n=l(t,e),r=t.slice(-1)[0];return t.length>0&&"undefined"==typeof n[r]&&!d(t)&&(n[r]=[]),e}function s(e,t){if(Array.isArray(e)&&"number"==typeof t&&e.length<t)for(var n=e.length;t>n;n+=1)"undefined"==typeof e[n]&&(e[n]=null)}function d(e){return"number"==typeof e.slice(-1)[0]}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){var n=[],r=!0,u=!1,i=void 0;try{for(var o,f=e[Symbol.iterator]();!(r=(o=f.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){u=!0,i=l}finally{try{!r&&f["return"]&&f["return"]()}finally{if(u)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.formsquare=r;var v=e("./utils"),y=/^\s*\d+\s*$/;n["default"]=r},{"./utils":3}],3:[function(e,t,n){"use strict";function r(e,t){for(var n=t.length,r=0;n>r;r+=1)if(e(t[r]))return!0;return!1}function u(e){return function(){return e}}function i(e,t){for(var n=t.length,r=0;n>r;r+=1)if(t[r]===e)return!0;return!1}function o(e,t){for(var n=t.length,r=0;n>r;r+=1)i(t[r],e)||e.push(t[r]);return e}function f(e,t){for(var n=[],r=t.length,u=0;r>u;u+=1)e(t[u])&&n.push(t[u]);return n}function l(e,t){for(var n=[],r=t.length,u=0;r>u;u+=1)n.push(e(t[u]));return n}function a(e,t,n){for(var r=n.length,u=0;r>u;u+=1)t=e(t,n[u]);return t}function c(e){var t=e.selectedOptions||f(function(e){return e.selected},e.options);return l(function(e){return e.value},t)}function s(e,t){return t.slice(0,e.length)===e}Object.defineProperty(n,"__esModule",{value:!0}),n.any=r,n.constant=u,n.contains=i,n.extendUniq=o,n.filter=f,n.reduce=a,n.selectedValues=c,n.startsWith=s},{}]},{},[1])(1)});