!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.formsquare=e()}}(function(){return function e(n,r,t){function u(o,f){if(!r[o]){if(!n[o]){var l="function"==typeof require&&require;if(!f&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[o]={exports:{}};n[o][0].call(s.exports,function(e){var r=n[o][1][e];return u(r?r:e)},s,s.exports,e,n,r,t)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<t.length;o++)u(t[o]);return u}({1:[function(e,n,r){n.exports=e("./lib/formsquare"),n.exports.NAME="formsquare",n.exports.VERSION="0.3.1"},{"./lib/formsquare":2}],2:[function(e,n,r){"use strict";function t(e){function n(e,n){var r=n.name,t=n.value,u=n.type,p=o(r);if("radio"===u&&!n.checked)return e;if("select-multiple"===n.type)t=(0,d.selectedValues)(n);else if("number"===u||"range"===u)t=+t;else if("checkbox"===u&&null===n.getAttribute("value"))t=n.checked;else if("checkbox"===u&&!n.checked){if(a(p)||(0,d.any)(function(e){return e.name===r&&e!==n},s))return c(e,p);t=null}if(0===p.length)return null===e?t:(Array.isArray(e)||(e=[e]),e.push(t),e);e=i(e,p,t);var h=f(p,e),y=p.slice(-1)[0],v="number"!=typeof y&&(0,d.any)(function(e){return(0,d.startsWith)(r,e.name)&&e!==n&&e.name.slice(r.length).match(/\[[^\]]\]/)},s);return l(h,y,t,v),e}var r=arguments.length<=1||void 0===arguments[1]?(0,d.constant)(!0):arguments[1];if("function"==typeof e)return function(n){return t(n,e)};var s=(0,d.filter)(r,u(e));return(0,d.reduce)(n,null,s)}function u(e){var n=e.elements;if(!e.id||"function"==typeof window.HTMLFormControlsCollection&&n instanceof window.HTMLFormControlsCollection)return n;var r=document.querySelectorAll('[form="'+e.id+'"]'),t=(0,d.filter)(function(n){return(0,d.contains)(n.getAttribute("form"),["",null,e.id])},n);return(0,d.extendUniq)(t,r)}function i(e,n){return null===e?"number"==typeof n[0]?[]:Object.create(null):e}function o(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(0===e.length)return n;var r=e.indexOf("["),t=e.indexOf("]");if(0>=r&&-1===t)return n.push(e),n;for(;r>t&&-1!==t;)t=e.slice(t).indexOf("]");if(-1===t)return n.push(e),n;if(r>0)return n.push(e.slice(0,r)),o(e.slice(r),n);var u=e.slice(r+1,t),i=""===u?-1:u.match(p)?+u:u;return n.push(i),o(e.slice(t+1),n)}function f(e,n){if(e.length<=1)return n;var r=e[0],t=e.slice(1),u=-1===r?n.length:r,i=n[u];if("undefined"==typeof i){var o="number"==typeof t[0]?[]:Object.create(null);if(Array.isArray(n)&&-1===u)return n.push(o),f(t,o);s(n,u),n[u]=o}return f(t,n[u])}function l(e,n,r,t){n=-1===n?e.length:n,"undefined"!=typeof e[n]&&null!==e[n]?(Array.isArray(e[n])||(e[n]=[e[n]]),e[n].push(t?{"":r}:r)):(s(e,n),e[n]=t?{"":r}:r)}function c(e,n){if(null===e)return[];var r=f(n,e),t=n.slice(-1)[0];return n.length>0&&"undefined"==typeof r[t]&&!a(n)&&(r[t]=[]),e}function s(e,n){if(Array.isArray(e)&&"number"==typeof n&&e.length<n)for(var r=e.length;n>r;r+=1)"undefined"==typeof e[r]&&(e[r]=null)}function a(e){return"number"==typeof e.slice(-1)[0]}Object.defineProperty(r,"__esModule",{value:!0}),r.formsquare=t;var d=e("./utils"),p=/^\s*\d+\s*$/;r["default"]=t},{"./utils":3}],3:[function(e,n,r){"use strict";function t(e,n){for(var r=n.length,t=0;r>t;t+=1)if(e(n[t]))return!0;return!1}function u(e){return function(){return e}}function i(e,n){for(var r=n.length,t=0;r>t;t+=1)if(n[t]===e)return!0;return!1}function o(e,n){for(var r=n.length,t=0;r>t;t+=1)i(n[t],e)||e.push(n[t]);return e}function f(e,n){for(var r=[],t=n.length,u=0;t>u;u+=1)e(n[u])&&r.push(n[u]);return r}function l(e,n){for(var r=[],t=n.length,u=0;t>u;u+=1)r.push(e(n[u]));return r}function c(e,n,r){for(var t=r.length,u=0;t>u;u+=1)n=e(n,r[u]);return n}function s(e){var n=e.selectedOptions||f(function(e){return e.selected},e.options);return l(function(e){return e.value},n)}function a(e,n){return n.slice(0,e.length)===e}Object.defineProperty(r,"__esModule",{value:!0}),r.any=t,r.constant=u,r.contains=i,r.extendUniq=o,r.filter=f,r.reduce=c,r.selectedValues=s,r.startsWith=a},{}]},{},[1])(1)});